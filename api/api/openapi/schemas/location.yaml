---
# SPDX-FileCopyrightText: (C) 2025 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

Region:
  description: "A region resource"
  type: object
  properties:
    resourceId:
      type: string
      pattern: "^region-[0-9a-f]{8}$"
      description: 'resource ID, generated by the inventory on Create'
      readOnly: true
    regionID:
      description: "The region's unique identifier. Alias of resourceId."
      title: regionID
      type: string
      pattern: "^region-[0-9a-f]{8}$"
      readOnly: true
    name:
      description: "The region's name."
      title: region-name
      type: string
      maxLength: 20
      pattern: '^$|^[a-zA-Z-_0-9./: ]+$'
    parentId:
      description: "The parent region's unique identifier
        that the region is associated to, if it exists.
        This field cannot be used in filter."
      type: string
      pattern: "^$|^region-[0-9a-f]{8}$"
      writeOnly: true
    parentRegion:
      description: "The parent region's resource associated with the region."
      $ref: "./_index.yaml#/Region"
      readOnly: true
    metadata:
      description: "The metadata associated with the region,
        represented by a list of key:value pairs."
      "$ref": "./common.yaml#/Metadata"
    inheritedMetadata:
      description: "The rendered metadata from the region's parent(s)
        that can be inherited by the region, represented by a list of key:value pairs.
        This field cannot be used in filter."
      $ref: './common.yaml#/Metadata'
      readOnly: true
    totalSites:
      description: "Total number of sites associated to this region, directly or by child regions."
      type: integer
      readOnly: true
    timestamps:
      "$ref": "./common.yaml#/Timestamps"
      readOnly: true
  title: Region

Site:
  description: "A site resource."
  type: object
  properties:
    resourceId:
      type: string
      pattern: "^site-[0-9a-f]{8}$"
      description: 'resource ID, generated by the inventory on Create.'
      readOnly: true
    siteID:
      description: "The site's unique identifier. Alias of resourceId."
      type: string
      pattern: "^site-[0-9a-f]{8}$"
      readOnly: true
    name:
      description: "The site's human-readable name."
      title: site-name
      type: string
      maxLength: 20
      pattern: "^$|^[a-zA-Z-_0-9./: ]+$"
    siteLat:
      description: "The geolocation latitude of the site.
        Points are represented as latitude-longitude pairs in the E7 representation
        (degrees are multiplied by 10**7 and rounded to the nearest integer).
        siteLat must be in the range of +/- 90 degrees."
      title: site-latitude
      type: integer
      minimum: -900000000
      maximum: 900000000
    siteLng:
      description: "The geolocation longitude of the site.
        Points are represented as latitude-longitude pairs in the E7 representation
        (degrees are multiplied by 10**7 and rounded to the nearest integer).
        siteLng must be in the range of +/- 180 degrees (inclusive)."
      title: site-longitude
      type: integer
      minimum: -1800000000
      maximum: 1800000000
    dnsServers:
      description: "The list of DNS servers that the site has available."
      title: site-dns-servers
      type: array
      items:
        type: string
        maxLength: 100
        pattern: "^$|^[a-zA-Z-_0-9./: ]+$"
    proxy:
      "$ref": "#/Proxy"
    dockerRegistries:
      description: "The set of Docker* registries that the site has available."
      title: site-docker-registries
      type: array
      items:
        type: string
        maxLength: 100
        pattern: "^$|^[a-zA-Z-_0-9./: ]+$"
    metricsEndpoint:
      description: "The set of site-available metrics,
        specified in a single JSON object."
      title: site-metrics
      type: string
      maxLength: 100
      pattern: "^$|^[a-zA-Z-_0-9./: ]+$"
    metadata:
      description: "The metadata assigned to the site,
        represented by a list of key:value pairs."
      "$ref": "./common.yaml#/Metadata"
    regionId:
      description: "The region's unique identifier
        that the site is associated to. This field cannot be used in filter."
      type: string
      pattern: "^$|^region-[0-9a-f]{8}$"
      writeOnly: true
    region:
      description: "The region's resource associated with the site."
      $ref: "./_index.yaml#/Region"
      readOnly: true
    ouId:
      description: "The OU unique identifier
        that the site is associated to, if it exists. This field cannot be used in filter."
      type: string
      pattern: "^$|^ou-[0-9a-f]{8}$"
      writeOnly: true
    ou:
      description: "The OU resource associated with the site."
      $ref: "./_index.yaml#/OU"
      readOnly: true
    provider:
      readOnly: true
      description: "The provider associated with the site."
      $ref: "./_index.yaml#/Provider"
    inheritedMetadata:
      description: "The rendered metadata from the site's parent(s)
        that can be inherited by the site, from location (region) and OU.
        Represented by a list of key:value pairs. This field cannot be used in filter."
      $ref: './common.yaml#/MetadataJoin'
      readOnly: true
    timestamps:
      "$ref": "./common.yaml#/Timestamps"
      readOnly: true
  title: Site

Proxy:
  description: "The proxy information."
  type: object
  properties:
    httpProxy:
      description: "The HTTP proxy."
      type: string
    httpsProxy:
      description: "The HTTPS proxy."
      type: string
    ftpProxy:
      description: "The FTP proxy."
      type: string
    noProxy:
      description: "The no-proxy info."
      type: string

SitesList:
  description: "A list of site objects."
  required:
    - sites
    - hasNext
    - totalElements
  properties:
    sites:
      type: array
      items:
        "$ref": "#/Site"
      minItems: 0
      readOnly: true
    hasNext:
      description: "Indicates if there are more
        objects available to be retrieved."
      type: boolean
      readOnly: true
    totalElements:
      description: "Total number of items that the request would return,
        if not limited by pagination."
      type: integer
      readOnly: true
  title: SitesList
  type: object

RegionsList:
  description: "A list of region objects."
  required:
    - regions
    - hasNext
    - totalElements
  properties:
    regions:
      type: array
      items:
        "$ref": "#/Region"
      minItems: 0
      readOnly: true
    hasNext:
      description: "Indicates if there are more location objects available to be retrieved."
      type: boolean
      readOnly: true
    totalElements:
      description: "Total number of items that the request would return,
        if not limited by pagination."
      type: integer
      readOnly: true
  title: RegionsList
  type: object

LocationType:
  description: "The type of the location node."
  readOnly: true
  type: string
  format: enum
  enum:
    - RESOURCE_KIND_REGION
    - RESOURCE_KIND_SITE

LocationNode:
  description: "A location node's resource, region, or site."
  type: object
  required:
    - resourceId
    - parentId
    - name
    - type
  properties:
    resourceId:
      type: string
      description: "The associated node's resource ID,
        generated by the inventory on Create."
      readOnly: true
    parentId:
      type: string
      description: "The associated resource ID
        of the parent resource of this location node.
        For a region, it could be empty or a regionId.
        For a site, it could be empty or a regionId."
      readOnly: true
    name:
      description: "The node's human-readable name."
      type: string
      maxLength: 20
      pattern: "^$|^[a-zA-Z-_0-9./: ]+$"
      readOnly: true
    type:
      readOnly: true
      $ref: "#/LocationType"

LocationNodeList:
  description: "A LocationNodeList object.
    Contains all the required information to build
    a tree of regions and sites, given their associations."
  required:
    - nodes
  properties:
    nodes:
      type: array
      items:
        "$ref": "#/LocationNode"
      minItems: 0
      readOnly: true
      description: "The ordered list of nodes (root to leaf) of the location's
        hierarchy tree of regions and sites.
        The relationship of the root to leaf is limited by the maximum depth of seven items."
    outputElements:
      description: "The number of items returned in the nodes's array
        that match the query parameters of the request."
      type: integer
      readOnly: true
    totalElements:
      description: "The total number of items that match the query parameters of the request."
      type: integer
      readOnly: true
